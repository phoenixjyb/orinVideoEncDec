cr_h265_publisher:
  ros__parameters:
    devices:
      - "/dev/video2"
      - "/dev/video3"
      - "/dev/video4"
    topics:
      - "/cr/camera/h265/cam2"
      - "/cr/camera/h265/cam3"
      - "/cr/camera/h265/cam4"
    frame_ids:
      - "cam2"
      - "cam3"
      - "cam4"
    # Input format uses GStreamer caps names (common: UYVY, YUY2, NV12).
    # If v4l2-ctl reports Pixel Format 'YUYV', use input_format: "YUY2" (or "YUYV"; it will be normalized).
    input_format: "UYVY"
    input_width: 1920
    input_height: 1536
    output_width: 960
    output_height: 768
    fps: 30
    # Rate control:
    #   control_rate: 0=VBR, 1=CBR
    control_rate: 1
    ratecontrol_enable: true
    enable_twopass_cbr: false
    bitrate: 8000000
    peak_bitrate: 0   # 0 => encoder default (typically ~1.2*bitrate for VBR)
    vbv_size: 0       # 0 => encoder default
    # GOP / frame structure:
    #   num_b_frames: set 0 for IPPP..., or 1/2 for IPB... (may be platform/plugin dependent)
    num_b_frames: 0
    num_ref_frames: 1
    iframeinterval: 30
    idrinterval: 30
    insert_sps_pps: true
    insert_aud: false
    maxperf_enable: true
    preset_level: 1
    profile: 0
